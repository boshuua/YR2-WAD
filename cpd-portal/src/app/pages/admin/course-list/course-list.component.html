<div class="user-management-panel">

  <div class="panel-header">
    <h2>Course Management</h2>
    <button class="add-user-btn" (click)="addCourse()">+ Add Course</button>
  </div>

  <div class="table-responsive">
    <div *ngIf="isLoading">Loading courses...</div>
    <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>

    <table *ngIf="!isLoading && !errorMessage && courses.length > 0">
      <thead>
        <tr>
          <th>Title</th>
          <th>Description</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let course of courses">
          <td>{{ course.title }}</td>
          <td>{{ course.description | slice:0:100 }}{{ course.description.length > 100 ? '...' : '' }}</td>
          <td>
            <button class="edit-btn" (click)="editCourse(course.id)">Edit</button>
            <button class="delete-btn" (click)="promptDeleteCourse(course.id, course.title)">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>

    <div *ngIf="!isLoading && noCoursesFound" class="no-data-message">
      No courses found. Click 'Add Course' to create one.
    </div>
  </div>
</div>

<app-confirm-modal
  [isVisible]="showDeleteConfirmModal"
  title="Confirm Deletion"
  [message]="'Are you sure you want to delete the course \'' + courseToDeleteTitle + '\'?'"
  confirmButtonText="Delete Course"
  cancelButtonText="Cancel"
  (confirmed)="confirmDelete()"
  (cancelled)="cancelDelete()">
</app-confirm-modal>