<h2>Dashboard Overview</h2>
<p>Welcome to the admin control panel.</p>

<div class="dashboard-grid">



  <div class="dashboard-panel activity-log-panel">
    <h3>
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
        <polyline points="14 2 14 8 20 8"></polyline>
        <line x1="12" y1="18" x2="12" y2="12"></line>
        <line x1="9" y1="15" x2="15" y2="15"></line>
      </svg>
      Recent Activity
    </h3>

    <div *ngIf="isLoadingLog" class="loading-state">
      <div class="spinner"></div>
      <span>Loading activity log...</span>
    </div>

    <div *ngIf="logLoadError" class="error-message">{{ logLoadError }}</div>

    <ul *ngIf="!isLoadingLog && !logLoadError && paginatedLogs.length > 0" class="activity-list">
      <li *ngFor="let entry of paginatedLogs">
        <div class="log-header">
          <span class="log-user">{{ entry.user_email || 'System' }}</span>
          <span class="log-timestamp">{{ datePipe.transform(entry.timestamp, 'short') }}</span>
        </div>
        <div class="log-body">
          <span class="log-action">{{ entry.action }}</span>
          <span *ngIf="entry.details" class="log-details">{{ entry.details }}</span>
        </div>
      </li>
    </ul>

    <p *ngIf="!isLoadingLog && !logLoadError && activityLog.length === 0" class="empty-state">No recent activity found.
    </p>

    <div *ngIf="!isLoadingLog && !logLoadError && totalPages > 1" class="pagination">
      <button (click)="previousPage()" [disabled]="currentPage === 1" class="pagination-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="15 18 9 12 15 6"></polyline>
        </svg>
      </button>

      <div class="pagination-info">
        Page {{ currentPage }} of {{ totalPages }}
      </div>

      <button (click)="nextPage()" [disabled]="currentPage === totalPages" class="pagination-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </button>
    </div>

    <div class="panel-footer">
      <a routerLink="/admin/activity">View Full Log</a>
    </div>
  </div>

</div>